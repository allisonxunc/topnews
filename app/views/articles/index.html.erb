<h1>Welcome to Top News</h1>

<%= link_to "liked articles", liked_articles_url%>

<div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ml-auto">
        <% if user_signed_in? %>
            <li class="nav-item">
                <%= link_to 'Sign Out', destroy_user_session_path, method: :delete, class: 'nav-link' %>
            </li>
        <% else %>
            <li class="nav-item">
                <%= link_to 'Sign In', new_user_session_path, class: 'nav-link' %>
            </li>
            <li class="nav-item">
                <%= link_to 'Register', new_user_registration_path, class: 'nav-link' %>
            </li>
        <% end %>
    </ul>
  </div>

<table class="striped highlight">
<thead>
    <th>Title</th>\
    <th>Author</th>
    <th>Score</th>
    <th>Like?</th>
</thead>
<% for article in @articles %>
    
        <tr class="<%= cycle('dg_list_line_odd', 'dg_list_line_even') %>">

        <td><%= link_to article.title, article.url %></td>

        <td><%= article.author %></td>

        <td><%= article.score %></td>


        <% if user_signed_in? %> 
            <td> <%if !article.user_articles&.present?%>
                <%= link_to 'like',like_path(id:article.article_id), method: :patch%>
                <%else%>  
                <%= link_to 'unlike',unlike_path(id:article.article_id), method: :patch%>
            <% end -%> </td>
        <%else%>  
            <td>please sign in to like articles</td>
        <% end -%>
            

        <td class="align_center">
        
        </tr>
     <% end %>
</table>
